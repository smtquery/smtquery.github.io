<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<meta name="author" content="We propose SMTQuery: an SMT-LIB Benchmark analysis tool for string constraints. SMTQuery is implemented in Python 3, and offers a collection of analysis and information extraction tools for a comprehensive data base of string benchmarks (presented in SMT-LIB format), based on an SQL-centred language called QLANG.">
<title>SMTQuery: A Generic Information Extraction System for String Constraints</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<style>
/* Asciidoctor default stylesheet | MIT License | https://asciidoctor.org */
/* Uncomment @import statement to use as custom stylesheet */
/*@import "https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700";*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}
audio,video{display:inline-block}
audio:not([controls]){display:none;height:0}
html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}
a{background:none}
a:focus{outline:thin dotted}
a:active,a:hover{outline:0}
h1{font-size:2em;margin:.67em 0}
abbr[title]{border-bottom:1px dotted}
b,strong{font-weight:bold}
dfn{font-style:italic}
hr{-moz-box-sizing:content-box;box-sizing:content-box;height:0}
mark{background:#ff0;color:#000}
code,kbd,pre,samp{font-family:monospace;font-size:1em}
pre{white-space:pre-wrap}
q{quotes:"\201C" "\201D" "\2018" "\2019"}
small{font-size:80%}
sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}
sup{top:-.5em}
sub{bottom:-.25em}
img{border:0}
svg:not(:root){overflow:hidden}
figure{margin:0}
fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}
legend{border:0;padding:0}
button,input,select,textarea{font-family:inherit;font-size:100%;margin:0}
button,input{line-height:normal}
button,select{text-transform:none}
button,html input[type="button"],input[type="reset"],input[type="submit"]{-webkit-appearance:button;cursor:pointer}
button[disabled],html input[disabled]{cursor:default}
input[type="checkbox"],input[type="radio"]{box-sizing:border-box;padding:0}
button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}
textarea{overflow:auto;vertical-align:top}
table{border-collapse:collapse;border-spacing:0}
*,*::before,*::after{-moz-box-sizing:border-box;-webkit-box-sizing:border-box;box-sizing:border-box}
html,body{font-size:100%}
body{background:#fff;color:rgba(0,0,0,.8);padding:0;margin:0;font-family:"Noto Serif","DejaVu Serif",serif;font-weight:400;font-style:normal;line-height:1;position:relative;cursor:auto;tab-size:4;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased}
a:hover{cursor:pointer}
img,object,embed{max-width:100%;height:auto}
object,embed{height:100%}
img{-ms-interpolation-mode:bicubic}
.left{float:left!important}
.right{float:right!important}
.text-left{text-align:left!important}
.text-right{text-align:right!important}
.text-center{text-align:center!important}
.text-justify{text-align:justify!important}
.hide{display:none}
img,object,svg{display:inline-block;vertical-align:middle}
textarea{height:auto;min-height:50px}
select{width:100%}
.center{margin-left:auto;margin-right:auto}
.stretch{width:100%}
.subheader,.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{line-height:1.45;color:#7a2518;font-weight:400;margin-top:0;margin-bottom:.25em}
div,dl,dt,dd,ul,ol,li,h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6,pre,form,p,blockquote,th,td{margin:0;padding:0;direction:ltr}
a{color:#2156a5;text-decoration:underline;line-height:inherit}
a:hover,a:focus{color:#1d4b8f}
a img{border:0}
p{font-family:inherit;font-weight:400;font-size:1em;line-height:1.6;margin-bottom:1.25em;text-rendering:optimizeLegibility}
p aside{font-size:.875em;line-height:1.35;font-style:italic}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{font-family:"Open Sans","DejaVu Sans",sans-serif;font-weight:300;font-style:normal;color:#ba3925;text-rendering:optimizeLegibility;margin-top:1em;margin-bottom:.5em;line-height:1.0125em}
h1 small,h2 small,h3 small,#toctitle small,.sidebarblock>.content>.title small,h4 small,h5 small,h6 small{font-size:60%;color:#e99b8f;line-height:0}
h1{font-size:2.125em}
h2{font-size:1.6875em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.375em}
h4,h5{font-size:1.125em}
h6{font-size:1em}
hr{border:solid #dddddf;border-width:1px 0 0;clear:both;margin:1.25em 0 1.1875em;height:0}
em,i{font-style:italic;line-height:inherit}
strong,b{font-weight:bold;line-height:inherit}
small{font-size:60%;line-height:inherit}
code{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;font-weight:400;color:rgba(0,0,0,.9)}
ul,ol,dl{font-size:1em;line-height:1.6;margin-bottom:1.25em;list-style-position:outside;font-family:inherit}
ul,ol{margin-left:1.5em}
ul li ul,ul li ol{margin-left:1.25em;margin-bottom:0;font-size:1em}
ul.square li ul,ul.circle li ul,ul.disc li ul{list-style:inherit}
ul.square{list-style-type:square}
ul.circle{list-style-type:circle}
ul.disc{list-style-type:disc}
ol li ul,ol li ol{margin-left:1.25em;margin-bottom:0}
dl dt{margin-bottom:.3125em;font-weight:bold}
dl dd{margin-bottom:1.25em}
abbr,acronym{text-transform:uppercase;font-size:90%;color:rgba(0,0,0,.8);border-bottom:1px dotted #ddd;cursor:help}
abbr{text-transform:none}
blockquote{margin:0 0 1.25em;padding:.5625em 1.25em 0 1.1875em;border-left:1px solid #ddd}
blockquote cite{display:block;font-size:.9375em;color:rgba(0,0,0,.6)}
blockquote cite::before{content:"\2014 \0020"}
blockquote cite a,blockquote cite a:visited{color:rgba(0,0,0,.6)}
blockquote,blockquote p{line-height:1.6;color:rgba(0,0,0,.85)}
@media screen and (min-width:768px){h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2}
h1{font-size:2.75em}
h2{font-size:2.3125em}
h3,#toctitle,.sidebarblock>.content>.title{font-size:1.6875em}
h4{font-size:1.4375em}}
table{background:#fff;margin-bottom:1.25em;border:solid 1px #dedede}
table thead,table tfoot{background:#f7f8f7}
table thead tr th,table thead tr td,table tfoot tr th,table tfoot tr td{padding:.5em .625em .625em;font-size:inherit;color:rgba(0,0,0,.8);text-align:left}
table tr th,table tr td{padding:.5625em .625em;font-size:inherit;color:rgba(0,0,0,.8)}
table tr.even,table tr.alt{background:#f8f8f7}
table thead tr th,table tfoot tr th,table tbody tr td,table tr td,table tfoot tr td{display:table-cell;line-height:1.6}
h1,h2,h3,#toctitle,.sidebarblock>.content>.title,h4,h5,h6{line-height:1.2;word-spacing:-.05em}
h1 strong,h2 strong,h3 strong,#toctitle strong,.sidebarblock>.content>.title strong,h4 strong,h5 strong,h6 strong{font-weight:400}
.clearfix::before,.clearfix::after,.float-group::before,.float-group::after{content:" ";display:table}
.clearfix::after,.float-group::after{clear:both}
:not(pre):not([class^=L])>code{font-size:.9375em;font-style:normal!important;letter-spacing:0;padding:.1em .5ex;word-spacing:-.15em;background:#f7f7f8;-webkit-border-radius:4px;border-radius:4px;line-height:1.45;text-rendering:optimizeSpeed;word-wrap:break-word}
:not(pre)>code.nobreak{word-wrap:normal}
:not(pre)>code.nowrap{white-space:nowrap}
pre{color:rgba(0,0,0,.9);font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;line-height:1.45;text-rendering:optimizeSpeed}
pre code,pre pre{color:inherit;font-size:inherit;line-height:inherit}
pre>code{display:block}
pre.nowrap,pre.nowrap pre{white-space:pre;word-wrap:normal}
em em{font-style:normal}
strong strong{font-weight:400}
.keyseq{color:rgba(51,51,51,.8)}
kbd{font-family:"Droid Sans Mono","DejaVu Sans Mono",monospace;display:inline-block;color:rgba(0,0,0,.8);font-size:.65em;line-height:1.45;background:#f7f7f7;border:1px solid #ccc;-webkit-border-radius:3px;border-radius:3px;-webkit-box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em white inset;box-shadow:0 1px 0 rgba(0,0,0,.2),0 0 0 .1em #fff inset;margin:0 .15em;padding:.2em .5em;vertical-align:middle;position:relative;top:-.1em;white-space:nowrap}
.keyseq kbd:first-child{margin-left:0}
.keyseq kbd:last-child{margin-right:0}
.menuseq,.menuref{color:#000}
.menuseq b:not(.caret),.menuref{font-weight:inherit}
.menuseq{word-spacing:-.02em}
.menuseq b.caret{font-size:1.25em;line-height:.8}
.menuseq i.caret{font-weight:bold;text-align:center;width:.45em}
b.button::before,b.button::after{position:relative;top:-1px;font-weight:400}
b.button::before{content:"[";padding:0 3px 0 2px}
b.button::after{content:"]";padding:0 2px 0 3px}
p a>code:hover{color:rgba(0,0,0,.9)}
#header,#content,#footnotes,#footer{width:100%;margin-left:auto;margin-right:auto;margin-top:0;margin-bottom:0;max-width:62.5em;*zoom:1;position:relative;padding-left:.9375em;padding-right:.9375em}
#header::before,#header::after,#content::before,#content::after,#footnotes::before,#footnotes::after,#footer::before,#footer::after{content:" ";display:table}
#header::after,#content::after,#footnotes::after,#footer::after{clear:both}
#content{margin-top:1.25em}
#content::before{content:none}
#header>h1:first-child{color:rgba(0,0,0,.85);margin-top:2.25rem;margin-bottom:0}
#header>h1:first-child+#toc{margin-top:8px;border-top:1px solid #dddddf}
#header>h1:only-child,body.toc2 #header>h1:nth-last-child(2){border-bottom:1px solid #dddddf;padding-bottom:8px}
#header .details{border-bottom:1px solid #dddddf;line-height:1.45;padding-top:.25em;padding-bottom:.25em;padding-left:.25em;color:rgba(0,0,0,.6);display:-ms-flexbox;display:-webkit-flex;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap}
#header .details span:first-child{margin-left:-.125em}
#header .details span.email a{color:rgba(0,0,0,.85)}
#header .details br{display:none}
#header .details br+span::before{content:"\00a0\2013\00a0"}
#header .details br+span.author::before{content:"\00a0\22c5\00a0";color:rgba(0,0,0,.85)}
#header .details br+span#revremark::before{content:"\00a0|\00a0"}
#header #revnumber{text-transform:capitalize}
#header #revnumber::after{content:"\00a0"}
#content>h1:first-child:not([class]){color:rgba(0,0,0,.85);border-bottom:1px solid #dddddf;padding-bottom:8px;margin-top:0;padding-top:1rem;margin-bottom:1.25rem}
#toc{border-bottom:1px solid #e7e7e9;padding-bottom:.5em}
#toc>ul{margin-left:.125em}
#toc ul.sectlevel0>li>a{font-style:italic}
#toc ul.sectlevel0 ul.sectlevel1{margin:.5em 0}
#toc ul{font-family:"Open Sans","DejaVu Sans",sans-serif;list-style-type:none}
#toc li{line-height:1.3334;margin-top:.3334em}
#toc a{text-decoration:none}
#toc a:active{text-decoration:underline}
#toctitle{color:#7a2518;font-size:1.2em}
@media screen and (min-width:768px){#toctitle{font-size:1.375em}
body.toc2{padding-left:15em;padding-right:0}
#toc.toc2{margin-top:0!important;background:#f8f8f7;position:fixed;width:15em;left:0;top:0;border-right:1px solid #e7e7e9;border-top-width:0!important;border-bottom-width:0!important;z-index:1000;padding:1.25em 1em;height:100%;overflow:auto}
#toc.toc2 #toctitle{margin-top:0;margin-bottom:.8rem;font-size:1.2em}
#toc.toc2>ul{font-size:.9em;margin-bottom:0}
#toc.toc2 ul ul{margin-left:0;padding-left:1em}
#toc.toc2 ul.sectlevel0 ul.sectlevel1{padding-left:0;margin-top:.5em;margin-bottom:.5em}
body.toc2.toc-right{padding-left:0;padding-right:15em}
body.toc2.toc-right #toc.toc2{border-right-width:0;border-left:1px solid #e7e7e9;left:auto;right:0}}
@media screen and (min-width:1280px){body.toc2{padding-left:20em;padding-right:0}
#toc.toc2{width:20em}
#toc.toc2 #toctitle{font-size:1.375em}
#toc.toc2>ul{font-size:.95em}
#toc.toc2 ul ul{padding-left:1.25em}
body.toc2.toc-right{padding-left:0;padding-right:20em}}
#content #toc{border-style:solid;border-width:1px;border-color:#e0e0dc;margin-bottom:1.25em;padding:1.25em;background:#f8f8f7;-webkit-border-radius:4px;border-radius:4px}
#content #toc>:first-child{margin-top:0}
#content #toc>:last-child{margin-bottom:0}
#footer{max-width:100%;background:rgba(0,0,0,.8);padding:1.25em}
#footer-text{color:rgba(255,255,255,.8);line-height:1.44}
#content{margin-bottom:.625em}
.sect1{padding-bottom:.625em}
@media screen and (min-width:768px){#content{margin-bottom:1.25em}
.sect1{padding-bottom:1.25em}}
.sect1:last-child{padding-bottom:0}
.sect1+.sect1{border-top:1px solid #e7e7e9}
#content h1>a.anchor,h2>a.anchor,h3>a.anchor,#toctitle>a.anchor,.sidebarblock>.content>.title>a.anchor,h4>a.anchor,h5>a.anchor,h6>a.anchor{position:absolute;z-index:1001;width:1.5ex;margin-left:-1.5ex;display:block;text-decoration:none!important;visibility:hidden;text-align:center;font-weight:400}
#content h1>a.anchor::before,h2>a.anchor::before,h3>a.anchor::before,#toctitle>a.anchor::before,.sidebarblock>.content>.title>a.anchor::before,h4>a.anchor::before,h5>a.anchor::before,h6>a.anchor::before{content:"\00A7";font-size:.85em;display:block;padding-top:.1em}
#content h1:hover>a.anchor,#content h1>a.anchor:hover,h2:hover>a.anchor,h2>a.anchor:hover,h3:hover>a.anchor,#toctitle:hover>a.anchor,.sidebarblock>.content>.title:hover>a.anchor,h3>a.anchor:hover,#toctitle>a.anchor:hover,.sidebarblock>.content>.title>a.anchor:hover,h4:hover>a.anchor,h4>a.anchor:hover,h5:hover>a.anchor,h5>a.anchor:hover,h6:hover>a.anchor,h6>a.anchor:hover{visibility:visible}
#content h1>a.link,h2>a.link,h3>a.link,#toctitle>a.link,.sidebarblock>.content>.title>a.link,h4>a.link,h5>a.link,h6>a.link{color:#ba3925;text-decoration:none}
#content h1>a.link:hover,h2>a.link:hover,h3>a.link:hover,#toctitle>a.link:hover,.sidebarblock>.content>.title>a.link:hover,h4>a.link:hover,h5>a.link:hover,h6>a.link:hover{color:#a53221}
details,.audioblock,.imageblock,.literalblock,.listingblock,.stemblock,.videoblock{margin-bottom:1.25em}
details>summary:first-of-type{cursor:pointer;display:list-item;outline:none;margin-bottom:.75em}
.admonitionblock td.content>.title,.audioblock>.title,.exampleblock>.title,.imageblock>.title,.listingblock>.title,.literalblock>.title,.stemblock>.title,.openblock>.title,.paragraph>.title,.quoteblock>.title,table.tableblock>.title,.verseblock>.title,.videoblock>.title,.dlist>.title,.olist>.title,.ulist>.title,.qlist>.title,.hdlist>.title{text-rendering:optimizeLegibility;text-align:left;font-family:"Noto Serif","DejaVu Serif",serif;font-size:1rem;font-style:italic}
table.tableblock.fit-content>caption.title{white-space:nowrap;width:0}
.paragraph.lead>p,#preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:1.21875em;line-height:1.6;color:rgba(0,0,0,.85)}
table.tableblock #preamble>.sectionbody>[class="paragraph"]:first-of-type p{font-size:inherit}
.admonitionblock>table{border-collapse:separate;border:0;background:none;width:100%}
.admonitionblock>table td.icon{text-align:center;width:80px}
.admonitionblock>table td.icon img{max-width:none}
.admonitionblock>table td.icon .title{font-weight:bold;font-family:"Open Sans","DejaVu Sans",sans-serif;text-transform:uppercase}
.admonitionblock>table td.content{padding-left:1.125em;padding-right:1.25em;border-left:1px solid #dddddf;color:rgba(0,0,0,.6)}
.admonitionblock>table td.content>:last-child>:last-child{margin-bottom:0}
.exampleblock>.content{border-style:solid;border-width:1px;border-color:#e6e6e6;margin-bottom:1.25em;padding:1.25em;background:#fff;-webkit-border-radius:4px;border-radius:4px}
.exampleblock>.content>:first-child{margin-top:0}
.exampleblock>.content>:last-child{margin-bottom:0}
.sidebarblock{border-style:solid;border-width:1px;border-color:#dbdbd6;margin-bottom:1.25em;padding:1.25em;background:#f3f3f2;-webkit-border-radius:4px;border-radius:4px}
.sidebarblock>:first-child{margin-top:0}
.sidebarblock>:last-child{margin-bottom:0}
.sidebarblock>.content>.title{color:#7a2518;margin-top:0;text-align:center}
.exampleblock>.content>:last-child>:last-child,.exampleblock>.content .olist>ol>li:last-child>:last-child,.exampleblock>.content .ulist>ul>li:last-child>:last-child,.exampleblock>.content .qlist>ol>li:last-child>:last-child,.sidebarblock>.content>:last-child>:last-child,.sidebarblock>.content .olist>ol>li:last-child>:last-child,.sidebarblock>.content .ulist>ul>li:last-child>:last-child,.sidebarblock>.content .qlist>ol>li:last-child>:last-child{margin-bottom:0}
.literalblock pre,.listingblock>.content>pre{-webkit-border-radius:4px;border-radius:4px;word-wrap:break-word;overflow-x:auto;padding:1em;font-size:.8125em}
@media screen and (min-width:768px){.literalblock pre,.listingblock>.content>pre{font-size:.90625em}}
@media screen and (min-width:1280px){.literalblock pre,.listingblock>.content>pre{font-size:1em}}
.literalblock pre,.listingblock>.content>pre:not(.highlight),.listingblock>.content>pre[class="highlight"],.listingblock>.content>pre[class^="highlight "]{background:#f7f7f8}
.literalblock.output pre{color:#f7f7f8;background:rgba(0,0,0,.9)}
.listingblock>.content{position:relative}
.listingblock code[data-lang]::before{display:none;content:attr(data-lang);position:absolute;font-size:.75em;top:.425rem;right:.5rem;line-height:1;text-transform:uppercase;color:inherit;opacity:.5}
.listingblock:hover code[data-lang]::before{display:block}
.listingblock.terminal pre .command::before{content:attr(data-prompt);padding-right:.5em;color:inherit;opacity:.5}
.listingblock.terminal pre .command:not([data-prompt])::before{content:"$"}
.listingblock pre.highlightjs{padding:0}
.listingblock pre.highlightjs>code{padding:1em;-webkit-border-radius:4px;border-radius:4px}
.listingblock pre.prettyprint{border-width:0}
.prettyprint{background:#f7f7f8}
pre.prettyprint .linenums{line-height:1.45;margin-left:2em}
pre.prettyprint li{background:none;list-style-type:inherit;padding-left:0}
pre.prettyprint li code[data-lang]::before{opacity:1}
pre.prettyprint li:not(:first-child) code[data-lang]::before{display:none}
table.linenotable{border-collapse:separate;border:0;margin-bottom:0;background:none}
table.linenotable td[class]{color:inherit;vertical-align:top;padding:0;line-height:inherit;white-space:normal}
table.linenotable td.code{padding-left:.75em}
table.linenotable td.linenos{border-right:1px solid currentColor;opacity:.35;padding-right:.5em}
pre.pygments .lineno{border-right:1px solid currentColor;opacity:.35;display:inline-block;margin-right:.75em}
pre.pygments .lineno::before{content:"";margin-right:-.125em}
.quoteblock{margin:0 1em 1.25em 1.5em;display:table}
.quoteblock:not(.excerpt)>.title{margin-left:-1.5em;margin-bottom:.75em}
.quoteblock blockquote,.quoteblock p{color:rgba(0,0,0,.85);font-size:1.15rem;line-height:1.75;word-spacing:.1em;letter-spacing:0;font-style:italic;text-align:justify}
.quoteblock blockquote{margin:0;padding:0;border:0}
.quoteblock blockquote::before{content:"\201c";float:left;font-size:2.75em;font-weight:bold;line-height:.6em;margin-left:-.6em;color:#7a2518;text-shadow:0 1px 2px rgba(0,0,0,.1)}
.quoteblock blockquote>.paragraph:last-child p{margin-bottom:0}
.quoteblock .attribution{margin-top:.75em;margin-right:.5ex;text-align:right}
.verseblock{margin:0 1em 1.25em}
.verseblock pre{font-family:"Open Sans","DejaVu Sans",sans;font-size:1.15rem;color:rgba(0,0,0,.85);font-weight:300;text-rendering:optimizeLegibility}
.verseblock pre strong{font-weight:400}
.verseblock .attribution{margin-top:1.25rem;margin-left:.5ex}
.quoteblock .attribution,.verseblock .attribution{font-size:.9375em;line-height:1.45;font-style:italic}
.quoteblock .attribution br,.verseblock .attribution br{display:none}
.quoteblock .attribution cite,.verseblock .attribution cite{display:block;letter-spacing:-.025em;color:rgba(0,0,0,.6)}
.quoteblock.abstract blockquote::before,.quoteblock.excerpt blockquote::before,.quoteblock .quoteblock blockquote::before{display:none}
.quoteblock.abstract blockquote,.quoteblock.abstract p,.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{line-height:1.6;word-spacing:0}
.quoteblock.abstract{margin:0 1em 1.25em;display:block}
.quoteblock.abstract>.title{margin:0 0 .375em;font-size:1.15em;text-align:center}
.quoteblock.excerpt>blockquote,.quoteblock .quoteblock{padding:0 0 .25em 1em;border-left:.25em solid #dddddf}
.quoteblock.excerpt,.quoteblock .quoteblock{margin-left:0}
.quoteblock.excerpt blockquote,.quoteblock.excerpt p,.quoteblock .quoteblock blockquote,.quoteblock .quoteblock p{color:inherit;font-size:1.0625rem}
.quoteblock.excerpt .attribution,.quoteblock .quoteblock .attribution{color:inherit;text-align:left;margin-right:0}
table.tableblock{max-width:100%;border-collapse:separate}
p.tableblock:last-child{margin-bottom:0}
td.tableblock>.content>:last-child{margin-bottom:-1.25em}
td.tableblock>.content>:last-child.sidebarblock{margin-bottom:0}
table.tableblock,th.tableblock,td.tableblock{border:0 solid #dedede}
table.grid-all>thead>tr>.tableblock,table.grid-all>tbody>tr>.tableblock{border-width:0 1px 1px 0}
table.grid-all>tfoot>tr>.tableblock{border-width:1px 1px 0 0}
table.grid-cols>*>tr>.tableblock{border-width:0 1px 0 0}
table.grid-rows>thead>tr>.tableblock,table.grid-rows>tbody>tr>.tableblock{border-width:0 0 1px}
table.grid-rows>tfoot>tr>.tableblock{border-width:1px 0 0}
table.grid-all>*>tr>.tableblock:last-child,table.grid-cols>*>tr>.tableblock:last-child{border-right-width:0}
table.grid-all>tbody>tr:last-child>.tableblock,table.grid-all>thead:last-child>tr>.tableblock,table.grid-rows>tbody>tr:last-child>.tableblock,table.grid-rows>thead:last-child>tr>.tableblock{border-bottom-width:0}
table.frame-all{border-width:1px}
table.frame-sides{border-width:0 1px}
table.frame-topbot,table.frame-ends{border-width:1px 0}
table.stripes-all tr,table.stripes-odd tr:nth-of-type(odd),table.stripes-even tr:nth-of-type(even),table.stripes-hover tr:hover{background:#f8f8f7}
th.halign-left,td.halign-left{text-align:left}
th.halign-right,td.halign-right{text-align:right}
th.halign-center,td.halign-center{text-align:center}
th.valign-top,td.valign-top{vertical-align:top}
th.valign-bottom,td.valign-bottom{vertical-align:bottom}
th.valign-middle,td.valign-middle{vertical-align:middle}
table thead th,table tfoot th{font-weight:bold}
tbody tr th{display:table-cell;line-height:1.6;background:#f7f8f7}
tbody tr th,tbody tr th p,tfoot tr th,tfoot tr th p{color:rgba(0,0,0,.8);font-weight:bold}
p.tableblock>code:only-child{background:none;padding:0}
p.tableblock{font-size:1em}
ol{margin-left:1.75em}
ul li ol{margin-left:1.5em}
dl dd{margin-left:1.125em}
dl dd:last-child,dl dd:last-child>:last-child{margin-bottom:0}
ol>li p,ul>li p,ul dd,ol dd,.olist .olist,.ulist .ulist,.ulist .olist,.olist .ulist{margin-bottom:.625em}
ul.checklist,ul.none,ol.none,ul.no-bullet,ol.no-bullet,ol.unnumbered,ul.unstyled,ol.unstyled{list-style-type:none}
ul.no-bullet,ol.no-bullet,ol.unnumbered{margin-left:.625em}
ul.unstyled,ol.unstyled{margin-left:0}
ul.checklist{margin-left:.625em}
ul.checklist li>p:first-child>.fa-square-o:first-child,ul.checklist li>p:first-child>.fa-check-square-o:first-child{width:1.25em;font-size:.8em;position:relative;bottom:.125em}
ul.checklist li>p:first-child>input[type="checkbox"]:first-child{margin-right:.25em}
ul.inline{display:-ms-flexbox;display:-webkit-box;display:flex;-ms-flex-flow:row wrap;-webkit-flex-flow:row wrap;flex-flow:row wrap;list-style:none;margin:0 0 .625em -1.25em}
ul.inline>li{margin-left:1.25em}
.unstyled dl dt{font-weight:400;font-style:normal}
ol.arabic{list-style-type:decimal}
ol.decimal{list-style-type:decimal-leading-zero}
ol.loweralpha{list-style-type:lower-alpha}
ol.upperalpha{list-style-type:upper-alpha}
ol.lowerroman{list-style-type:lower-roman}
ol.upperroman{list-style-type:upper-roman}
ol.lowergreek{list-style-type:lower-greek}
.hdlist>table,.colist>table{border:0;background:none}
.hdlist>table>tbody>tr,.colist>table>tbody>tr{background:none}
td.hdlist1,td.hdlist2{vertical-align:top;padding:0 .625em}
td.hdlist1{font-weight:bold;padding-bottom:1.25em}
.literalblock+.colist,.listingblock+.colist{margin-top:-.5em}
.colist td:not([class]):first-child{padding:.4em .75em 0;line-height:1;vertical-align:top}
.colist td:not([class]):first-child img{max-width:none}
.colist td:not([class]):last-child{padding:.25em 0}
.thumb,.th{line-height:0;display:inline-block;border:solid 4px #fff;-webkit-box-shadow:0 0 0 1px #ddd;box-shadow:0 0 0 1px #ddd}
.imageblock.left{margin:.25em .625em 1.25em 0}
.imageblock.right{margin:.25em 0 1.25em .625em}
.imageblock>.title{margin-bottom:0}
.imageblock.thumb,.imageblock.th{border-width:6px}
.imageblock.thumb>.title,.imageblock.th>.title{padding:0 .125em}
.image.left,.image.right{margin-top:.25em;margin-bottom:.25em;display:inline-block;line-height:0}
.image.left{margin-right:.625em}
.image.right{margin-left:.625em}
a.image{text-decoration:none;display:inline-block}
a.image object{pointer-events:none}
sup.footnote,sup.footnoteref{font-size:.875em;position:static;vertical-align:super}
sup.footnote a,sup.footnoteref a{text-decoration:none}
sup.footnote a:active,sup.footnoteref a:active{text-decoration:underline}
#footnotes{padding-top:.75em;padding-bottom:.75em;margin-bottom:.625em}
#footnotes hr{width:20%;min-width:6.25em;margin:-.25em 0 .75em;border-width:1px 0 0}
#footnotes .footnote{padding:0 .375em 0 .225em;line-height:1.3334;font-size:.875em;margin-left:1.2em;margin-bottom:.2em}
#footnotes .footnote a:first-of-type{font-weight:bold;text-decoration:none;margin-left:-1.05em}
#footnotes .footnote:last-of-type{margin-bottom:0}
#content #footnotes{margin-top:-.625em;margin-bottom:0;padding:.75em 0}
.gist .file-data>table{border:0;background:#fff;width:100%;margin-bottom:0}
.gist .file-data>table td.line-data{width:99%}
div.unbreakable{page-break-inside:avoid}
.big{font-size:larger}
.small{font-size:smaller}
.underline{text-decoration:underline}
.overline{text-decoration:overline}
.line-through{text-decoration:line-through}
.aqua{color:#00bfbf}
.aqua-background{background:#00fafa}
.black{color:#000}
.black-background{background:#000}
.blue{color:#0000bf}
.blue-background{background:#0000fa}
.fuchsia{color:#bf00bf}
.fuchsia-background{background:#fa00fa}
.gray{color:#606060}
.gray-background{background:#7d7d7d}
.green{color:#006000}
.green-background{background:#007d00}
.lime{color:#00bf00}
.lime-background{background:#00fa00}
.maroon{color:#600000}
.maroon-background{background:#7d0000}
.navy{color:#000060}
.navy-background{background:#00007d}
.olive{color:#606000}
.olive-background{background:#7d7d00}
.purple{color:#600060}
.purple-background{background:#7d007d}
.red{color:#bf0000}
.red-background{background:#fa0000}
.silver{color:#909090}
.silver-background{background:#bcbcbc}
.teal{color:#006060}
.teal-background{background:#007d7d}
.white{color:#bfbfbf}
.white-background{background:#fafafa}
.yellow{color:#bfbf00}
.yellow-background{background:#fafa00}
span.icon>.fa{cursor:default}
a span.icon>.fa{cursor:inherit}
.admonitionblock td.icon [class^="fa icon-"]{font-size:2.5em;text-shadow:1px 1px 2px rgba(0,0,0,.5);cursor:default}
.admonitionblock td.icon .icon-note::before{content:"\f05a";color:#19407c}
.admonitionblock td.icon .icon-tip::before{content:"\f0eb";text-shadow:1px 1px 2px rgba(155,155,0,.8);color:#111}
.admonitionblock td.icon .icon-warning::before{content:"\f071";color:#bf6900}
.admonitionblock td.icon .icon-caution::before{content:"\f06d";color:#bf3400}
.admonitionblock td.icon .icon-important::before{content:"\f06a";color:#bf0000}
.conum[data-value]{display:inline-block;color:#fff!important;background:rgba(0,0,0,.8);-webkit-border-radius:100px;border-radius:100px;text-align:center;font-size:.75em;width:1.67em;height:1.67em;line-height:1.67em;font-family:"Open Sans","DejaVu Sans",sans-serif;font-style:normal;font-weight:bold}
.conum[data-value] *{color:#fff!important}
.conum[data-value]+b{display:none}
.conum[data-value]::after{content:attr(data-value)}
pre .conum[data-value]{position:relative;top:-.125em}
b.conum *{color:inherit!important}
.conum:not([data-value]):empty{display:none}
dt,th.tableblock,td.content,div.footnote{text-rendering:optimizeLegibility}
h1,h2,p,td.content,span.alt{letter-spacing:-.01em}
p strong,td.content strong,div.footnote strong{letter-spacing:-.005em}
p,blockquote,dt,td.content,span.alt{font-size:1.0625rem}
p{margin-bottom:1.25rem}
.sidebarblock p,.sidebarblock dt,.sidebarblock td.content,p.tableblock{font-size:1em}
.exampleblock>.content{background:#fffef7;border-color:#e0e0dc;-webkit-box-shadow:0 1px 4px #e0e0dc;box-shadow:0 1px 4px #e0e0dc}
.print-only{display:none!important}
@page{margin:1.25cm .75cm}
@media print{*{-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important}
html{font-size:80%}
a{color:inherit!important;text-decoration:underline!important}
a.bare,a[href^="#"],a[href^="mailto:"]{text-decoration:none!important}
a[href^="http:"]:not(.bare)::after,a[href^="https:"]:not(.bare)::after{content:"(" attr(href) ")";display:inline-block;font-size:.875em;padding-left:.25em}
abbr[title]::after{content:" (" attr(title) ")"}
pre,blockquote,tr,img,object,svg{page-break-inside:avoid}
thead{display:table-header-group}
svg{max-width:100%}
p,blockquote,dt,td.content{font-size:1em;orphans:3;widows:3}
h2,h3,#toctitle,.sidebarblock>.content>.title{page-break-after:avoid}
#toc,.sidebarblock,.exampleblock>.content{background:none!important}
#toc{border-bottom:1px solid #dddddf!important;padding-bottom:0!important}
body.book #header{text-align:center}
body.book #header>h1:first-child{border:0!important;margin:2.5em 0 1em}
body.book #header .details{border:0!important;display:block;padding:0!important}
body.book #header .details span:first-child{margin-left:0!important}
body.book #header .details br{display:block}
body.book #header .details br+span::before{content:none!important}
body.book #toc{border:0!important;text-align:left!important;padding:0!important;margin:0!important}
body.book #toc,body.book #preamble,body.book h1.sect0,body.book .sect1>h2{page-break-before:always}
.listingblock code[data-lang]::before{display:block}
#footer{padding:0 .9375em}
.hide-on-print{display:none!important}
.print-only{display:block!important}
.hide-for-print{display:none!important}
.show-for-print{display:inherit!important}}
@media print,amzn-kf8{#header>h1:first-child{margin-top:1.25rem}
.sect1{padding:0!important}
.sect1+.sect1{border:0}
#footer{background:none}
#footer-text{color:rgba(0,0,0,.6);font-size:.9em}}
@media amzn-kf8{#header,#content,#footnotes,#footer{padding:0}}
</style>
</head>
<body class="article toc2 toc-left">
<div id="header">
<h1>SMTQuery: A Generic Information Extraction System for String Constraints</h1>
<div class="details">
<span id="author" class="author">We propose SMTQuery: an SMT-LIB Benchmark analysis tool for string constraints. SMTQuery is implemented in Python 3, and offers a collection of analysis and information extraction tools for a comprehensive data base of string benchmarks (presented in SMT-LIB format), based on an SQL-centred language called QLANG.</span><br>
</div>
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_installing_smtquery_using_the_provided_docker_image">Installing SMTQuery using the provided Docker Image</a></li>
<li><a href="#_installing_smtquery_on_a_linux_platform">Installing SMTQuery on a Linux platform</a></li>
<li><a href="#_implementation_details_and_defining_own_predicates_functions_and_extractors">Implementation Details and Defining own Predicates, Functions, and Extractors</a>
<ul class="sectlevel2">
<li><a href="#_fundamentals_on_defining_predicates">Fundamentals on defining predicates</a></li>
<li><a href="#_fundamentals_on_defining_apply_functions">Fundamentals on defining apply-functions</a></li>
<li><a href="#_fundamentals_on_defining_extractors">Fundamentals on defining extractors</a></li>
<li><a href="#_available_predicates_functions_and_extractors">Available Predicates, Functions, and Extractors</a></li>
</ul>
</li>
<li><a href="#_adding_new_benchmarks_and_solvers_and_reinitialising_the_database">Adding new Benchmarks and Solvers (and reinitialising the database)</a>
<ul class="sectlevel2">
<li><a href="#_adding_new_benchmarks">Adding new Benchmarks</a></li>
<li><a href="#_adding_new_solvers">Adding new Solvers</a></li>
</ul>
</li>
<li><a href="#_some_usage_examples">Some Usage Examples</a>
<ul class="sectlevel2">
<li><a href="#_generic_example_1">Generic Example 1</a></li>
<li><a href="#_generic_example_2">Generic Example 2</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The companion paper, entitled A Generic Information Extraction System for String Constraints, is available at <a href="https://smtquery.github.io/paper.pdf" class="bare">https://smtquery.github.io/paper.pdf</a> .</p>
</div>
<div class="paragraph">
<p>On these pages we describe how to setup SMTQuery, details on the implementation and how to extend the tool, as well as some examples of currently supported queries.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_smtquery_using_the_provided_docker_image">Installing SMTQuery using the provided Docker Image</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Use GIT to clone our repository</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git clone https://github.com/smtquery/code.git</pre>
</div>
</div>
<div class="paragraph">
<p>Change to the folder <code>code</code>. All instructions to build the image are stored in our <code>Dockerfile</code>. It contains two options: 1. Create an image which contains our SMT-LIB instances 2. Create an image which contains our instances, cached ASTs, and SQLite database (i.e. solver results). The  <code>Dockerfile</code> is preconfigured for option 1. To enable option 2. comment line 35-38 and uncomment line 27-31 as shown below</p>
</div>
<div class="literalblock">
<div class="content">
<pre># Link benchmarks used in the paper
# uncomment the following lines to use our benchmarks, database, and cached ASTS
RUN wget informatik.uni-kiel.de/~mku/smtquery_data.tar.gz -P /tmp
RUN tar xf /tmp/smtquery_data.tar.gz -C /tmp
RUN mv /tmp/smtqueryData/db.sql /smtquery
RUN mv /tmp/smtqueryData/data/smtfiles /smtquery/data/
RUN mv /tmp/smtqueryData/smtquery/data/pickle /smtquery/smtquery/data/</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre># Only use the benchmarks
# uncomment the following lines to only use our benchmarks
#RUN wget informatik.uni-kiel.de/~mku/smtquery_instances.tar.gz -P /tmp
#RUN tar xf /tmp/smtquery_instances.tar.gz -C /tmp
#RUN mv /tmp/smtqueryData/data/smtfiles /smtquery/data/
#RUN python3 bin/smtquery initdb</pre>
</div>
</div>
<div class="paragraph">
<p>Now execute</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker build . -t smtquery</pre>
</div>
</div>
<div class="paragraph">
<p>to build the docker image of SMTQuery. This step takes a couple of minutes since it&#8217;s downloading all required dependencies. Afterwards, we start the container by executing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker run -it -d smtquery /bin/bash</pre>
</div>
</div>
<div class="paragraph">
<p>For convenience, Linux or Mac OSX users are able to use prebuild scripts to run SMTQuery. To to so, execute <code>chmod +x smtquery_exe &amp;&amp; chmod +x smtquery_cp</code> which provides you two easy ways to use scripts for executing QLang and copying QLang&#8217;s output to your local machine.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./smtquery_exe</pre>
</div>
</div>
<div class="paragraph">
<p>prints the prompt, allowing you to execute a QLang query. To pose another query, simply call <code>./smtquery_exe</code> again.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./smtquery_cp &lt;destination_folder&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>allows copying plots, exported SMT-LIB files, and other generated content to your local machine. In particular, it is essential to execute this script after each extraction, in order to observe the results locally. In case you encounter an execution error (which might be the case to system restrictions of running bash scripts), simply follow the next lines.</p>
</div>
<div class="paragraph">
<p>On Windows machines we have to search for our container id by executing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker container ls -a</pre>
</div>
</div>
<div class="paragraph">
<p>Afterwards, we are able to execute QLang queries by typing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker exec -it &lt;YOUR_CONTAINER_ID&gt; python3 /smtquery/bin/smtquery qlang</pre>
</div>
</div>
<div class="paragraph">
<p>Try whether everything is setup as intended by executing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>./smtquery_exe</pre>
</div>
</div>
<div class="paragraph">
<p>respectively on Windows machines</p>
</div>
<div class="literalblock">
<div class="content">
<pre>docker exec -it &lt;YOUR_CONTAINER_ID&gt; python3 /smtquery/bin/smtquery qlang</pre>
</div>
</div>
<div class="paragraph">
<p>and afterwards posing the query</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Select Name From pisa Where hasLinears</pre>
</div>
</div>
<div class="paragraph">
<p>The result should be similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>6 out of 12 instances:
--------------------------------------------------
['pisa:pisa:pisa-004.smt2']
['pisa:pisa:pisa-007.smt2']
['pisa:pisa:pisa-005.smt2']
['pisa:pisa:pisa-006.smt2']
['pisa:pisa:pisa-000.smt2']
['pisa:pisa:pisa-001.smt2']</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_installing_smtquery_on_a_linux_platform">Installing SMTQuery on a Linux platform</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Make sure your system has <code>git python3 python3-pip python3-venv graphviz</code> install. Do install these packages (on Ubuntu) run</p>
</div>
<div class="literalblock">
<div class="content">
<pre>apt-get -y update &amp;&amp; apt-get install -y --no-install-recommends apt-utils &amp;&amp; apt-get -y upgrade
apt-get install -y build-essential git python3 python3-pip python3-venv graphviz</pre>
</div>
</div>
<div class="paragraph">
<p>To use the setup explained in the companion paper download cvc5 from <a href="https://github.com/cvc5/cvc5/releases/latest/download/cvc5-Linux" class="bare">https://github.com/cvc5/cvc5/releases/latest/download/cvc5-Linux</a> and Z3 from <a href="https://github.com/Z3Prover/z3/releases/download/z3-4.10.1/z3-4.10.1-x64-glibc-2.31.zip" class="bare">https://github.com/Z3Prover/z3/releases/download/z3-4.10.1/z3-4.10.1-x64-glibc-2.31.zip</a>. Remember the paths where you store their executables.</p>
</div>
<div class="paragraph">
<p>Change into a folder of your system where you want to store SMTQuery and use GIT to clone our repository</p>
</div>
<div class="literalblock">
<div class="content">
<pre>git clone https://github.com/smtquery/code.git</pre>
</div>
</div>
<div class="paragraph">
<p>Change to the folder <code>code</code> and execute</p>
</div>
<div class="literalblock">
<div class="content">
<pre>python3 -m venv venv
source venv/bin/activate
python3 setup.py develop
pip3 install sqlalchemy pyyaml z3-solver graphviz celery matplotlib tabulate pathos</pre>
</div>
</div>
<div class="paragraph">
<p>to switch into a virtual environment, install the Python packages we need, and setup SMTQuery.</p>
</div>
<div class="paragraph">
<p>Next we setup the configuration of SMTQuery. Open <code>data/conf/conf.yml</code> which looks as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>solvers:
  Z3Str3:
    binary: /usr/bin/z3
  Z3Seq:
    binary: /usr/bin/z3
  CVC5:
    binary: /usr/bin/cvc5

verifiers: [Z3Seq]

runParameters:
  timeout : 5

SMTStore:
  name: DBFS
  root: data/smtfiles
  engine_string: sqlite:///db.sql
  intels:
    - Probes

scheduler:
  name: multiprocessing
  cores: 6</code></pre>
</div>
</div>
<div class="paragraph">
<p>The first block names the used <code>solvers</code> adjust the binary paths according to your system. If you want to use other solvers or remove some of the present ones consider the section below named "Adding new Solvers". <code>verifiers</code> store a list of solvers being used for our verification process. <code>runParameters</code> stores the timeout for each solver while solving an instance. <code>SMTStore</code> configures the database connection. Do not change this part of the configuration file. The <code>scheduler</code> block configures multiprocessing of our queries and the count of cores SMTQuery is allowed to use.</p>
</div>
<div class="paragraph">
<p>Next, we fetch the benchmarks we want to analyse and store them in <code>data/smtfiles</code>. If you want to use own benchmarks, stick to the structure explain in section "Adding new Benchmarks". To use the benchmarks of the paper download the following package and place the instances into the aforementioned directory: <a href="https://informatik.uni-kiel.de/~mku/smtquery_instances.tar.gz" class="bare">https://informatik.uni-kiel.de/~mku/smtquery_instances.tar.gz</a></p>
</div>
<div class="paragraph">
<p>Now we initialise our database by executing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>python3 bin/smtquery initdb</pre>
</div>
</div>
<div class="paragraph">
<p>We can (but you can also skip the next step, since solvers are triggered automatically when results are needed) now also run the registered solvers on all instances to store their results. We execute</p>
</div>
<div class="literalblock">
<div class="content">
<pre>python3 bin/smtquery updateResults</pre>
</div>
</div>
<div class="paragraph">
<p>Keep in mind, this process takes time when using the benchmark set used in the paper consisting of more than 100000 instances.</p>
</div>
<div class="paragraph">
<p>If everything was setup and we stick to our benchmark, we can execute the following query to check correctness.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Select Name From pisa Where hasLinears</pre>
</div>
</div>
<div class="paragraph">
<p>The result should be similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>6 out of 12 instances:
--------------------------------------------------
['pisa:pisa:pisa-004.smt2']
['pisa:pisa:pisa-007.smt2']
['pisa:pisa:pisa-005.smt2']
['pisa:pisa:pisa-006.smt2']
['pisa:pisa:pisa-000.smt2']</code></pre>
</div>
</div>
<div class="paragraph">
<p>We prepared we package which contains the instances, cached ASTs, and the SQLite database used in the paper. It is available at <a href="https://informatik.uni-kiel.de/~mku/smtquery_data.tar.gz" class="bare">https://informatik.uni-kiel.de/~mku/smtquery_data.tar.gz</a></p>
</div>
<div class="paragraph">
<p>Place the <code>db.sql</code> into the SMTquery root directory.  The <code>data/smtfiles</code> contains all instance and <code>smtquery/data/pickle</code> the cached AST. Simply copy the content of the archive into your root folder. You will now be able to use e.g. the results for solvers reported in the paper.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_implementation_details_and_defining_own_predicates_functions_and_extractors">Implementation Details and Defining own Predicates, Functions, and Extractors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We briefly overview the syntax of QLANG, as given in our companion paper, to ease understanding of the following subsections.</p>
</div>
<div class="stemblock">
<div class="content">
\[\begin{array}{lcll}
  S &amp; \rightarrow &amp; \texttt{Select } f_s \texttt{ From } d \texttt{ Where } c \!\hspace{3mm} | \hspace{3mm}\! \texttt{Extract } f_e \texttt{ From } d \texttt{ Where } c \texttt{ Apply } \text{Function} \\
  f_s &amp; \rightarrow &amp; \texttt{Name} \hspace{3mm} | \hspace{3mm} \texttt{Hash} \hspace{3mm} | \hspace{3mm} \texttt{Content}\\
  f_e &amp; \rightarrow &amp; \texttt{SMTLib} \hspace{3mm} | \hspace{3mm}{} \texttt{SMTPlot}% \hspace{3mm} | \hspace{3mm} \texttt{LINEARLENGTH} \hspace{3mm} | \hspace{3mm} \texttt{REGEX} \hspace{3mm} | \hspace{3mm} \texttt{HOFUNCTION} \\ &amp; &amp;
                    \hspace{3mm} | \hspace{3mm} \dots\\ %\hspace{3mm} | \hspace{3mm} f_e\texttt{, } f_e\\
  d &amp; \rightarrow &amp; \texttt{*} \hspace{3mm} | \hspace{3mm} \text{Set} \hspace{3mm} | \hspace{3mm} \text{Set}\texttt{:}\text{Track} \hspace{3mm} | \hspace{3mm} d\texttt{, } d\\
  c &amp; \rightarrow &amp; \text{Predicate} \hspace{3mm} | \hspace{3mm} (c \texttt{ And } c) \hspace{3mm} | \hspace{3mm} (c \texttt{ Or } c)  \hspace{3mm} | \hspace{3mm} (\texttt{Not } c) \hspace{3mm} | \hspace{3mm} \texttt{True} \hspace{3mm} | \hspace{3mm} \texttt{False}\\
  \end{array}\]
</div>
</div>
<div class="paragraph">
<p>The semantic of a <code>Select</code> query is based on the data set \(d\). We either choose all benchmarks (*) or we are more precise in picking a particular benchmark set, respectively a corresponding track. The selection is based on a Boolean expression \(c\), constructed from basic \(Predicates\). Currently, SMTQuery implements several default predicates, but our interface allows also defining custom predicates. We use \(f_s\) to choose a suitable output which can be the instance name, the file&#8217;s hash value, or simply the SMT-LIB instance.</p>
</div>
<div class="paragraph">
<p>The <code>Extract</code> query allows exporting instances for which a Boolean expression (again involving predicates) evaluates to <code>true</code>. Additionally, while executing an <code>Extract</code> query, we can directly perform modifications to the extracted instances using a <code>Function</code> (called apply-function in the following). Finally, the argument \(f_e\) of an <code>Extract</code> query (called extractor in the following) specifies the type of output format for the matching (and potentially modified) instances.</p>
</div>
<div class="sect2">
<h3 id="_fundamentals_on_defining_predicates">Fundamentals on defining predicates</h3>
<div class="paragraph">
<p>In our implementation, a predicate is based on an interface in <code>smtquery.smtcon.exprfun</code> which corresponds to collecting data for the newly defined predicate. After providing a name and a version number, the user implements an <code>apply</code>- and a <code>merge</code>-function (as also explained in the companion paper). The <code>apply</code>-function receives an AST expression and a pointer to previously calculated data and performs requested modifications to the data. Since the <code>apply</code>-function computes the information bottom-up within our AST, the user also provides a neutral element for this computation, which might be an empty dictionary, an empty list, or simply an integer. The interfaces also requires the implementation of a <code>merge</code>-function which aims to combine the data received from children-expressions within the AST in a node. This functions again behaves as implemented by the user.
Once this information gathering interface is implemented, we register the application within <code>smtquery.intel.plugin.probes.intels</code> by providing a unique identifier which points to a tuple consisting of the function-implementations and the neutral element. Further, we register our predicate at <code>smtquery.intel.plugin.probes.predicates</code> providing a unique name and the predicate. Afterwards, the name is directly usable within our query language.</p>
</div>
<div class="paragraph">
<p>To summarise, the user implements the above functions to gather information. Afterwards, this information is available to be used within Boolean predicates which are accessible within a QLang query.</p>
</div>
<div class="sect3">
<h4 id="_example_constraint_has_specific_atom">Example: constraint has specific atom</h4>
<div class="paragraph">
<p>In order to filter our queries for word equations, regex, or linear length constraint, we implement the following function in <code>smtquery.smtcon.exprfun</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class HasAtom(ExprFun):
    def __init__(self):
        super().__init__ ("HasAtom","0.0.1")

    def apply (self, expr, data):
        if expr.kind() not in data:
            data[expr.kind()] = 0
        data[expr.kind()]+=1
        return data

    def merge(self, expr, data):
        d_new = dict()
        for d in data:
            for k in set(d_new.keys()).union(set(d.keys())):
                if k in d_new and k in d:
                    d_new[k]+=d[k]
                elif k in d:
                    d_new[k] = d[k]
        return d_new</code></pre>
</div>
</div>
<div class="paragraph">
<p>The apply-function essential counts occurrences of particular kind, while the merge functions joins the collected information of their children. Once this function is added, we register the "intel" within our intel-gatherer located in <code>smtquery.intel.plugins.probes</code> and modify the function <code>Probes.intel()</code> as following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    def intels (self):
        return {
        	...
            "has" : (smtquery.smtcon.exprfun.HasAtom(),dict()),
            ...
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>When querying benchmarks this addition now collects the information implemented in our <code>HasAtom</code> class and stores it for each used benchmark. Next, we define our predicate by simply adding a function to <code>smtquery.intel.plugins.probes</code>. The actual implementation is done as following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>def hasKind(kind,smtfile):
    if kind in smtfile.Probes.get_intel()["has"]:
        return smtquery.qlang.predicates.Trool.TT
    else:
        return smtquery.qlang.predicates.Trool.FF</code></pre>
</div>
</div>
<div class="paragraph">
<p>Lastly, we register this function within our lists of predicates, making it available with QLANG queries. We simply modify within <code>smtquery.intel.plugins.probes</code> the function <code>Probes.predicates()</code> as following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>    def predicates (self):
        return {
            ...
            "hasWEQ" : partial(hasKind,Kind.WEQ),
            "hasLinears" : partial(hasKind,Kind.LENGTH_CONSTRAINT),
            "hasRegex" : partial(hasKind,Kind.REGEX_CONSTRAINT),
            ...
        }</code></pre>
</div>
</div>
<div class="paragraph">
<p>This allows using <code>hasWEQ</code>, <code>hasLinears</code>, and <code>hasRegex</code> with a custom query.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fundamentals_on_defining_apply_functions">Fundamentals on defining apply-functions</h3>
<div class="paragraph">
<p>The <code>apply</code>-function, primarily allowing modifications of an AST, requires the implementation of a base-class defined within <code>smtquery.apply</code>. We provide a name and the expected behaviour, making sure to return an internal SMT-LIB object. After the successful implementation, we register this new class within our <code>PullExtractor</code> by providing its name. Again, afterwards, the <code>apply</code>-function is immediately usable within the query language.</p>
</div>
<div class="sect3">
<h4 id="_example_a_dummy_apply_function">Example: a dummy apply-function</h4>
<div class="paragraph">
<p>In order to create a new apply-function we simply build a class within <code>smtquery.apply</code> having the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class DummyApply:
    @staticmethod
    def getName ():
        return "DummyApply"

    def __call__  (self,smtfile):
        return smtfile

def PullExtractor():
    return [DummyApply]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The class primarily consists of a <code>getName</code> function proving a name for our new function and has to be callable (<code><em>call</em></code>). Within the call we receive the current benchmark and odd to perform modifications according to our needs. It is important to return a potentially modified <code>smtfile</code> since the output is processed further within our tool. Secondly, we provide a <code>PullExtractor</code> function which immediately allows using the newly defined apply-function within a custom query.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_fundamentals_on_defining_extractors">Fundamentals on defining extractors</h3>
<div class="paragraph">
<p>The extractor allows exporting potentially modified benchmarks in an own format. SMTQuery allows either printing the converted data directly to the terminal or redirecting it to a file using \texttt{smtquery.ui.Outputter}. To name a few examples, we might want to translate the benchmarks into a different format, export some plot, or obtain a modified SMT-LIB instance. To implement an extractor, we proceed similarly to the previously seen <code>apply</code>-function and implement a simple class within <code>smtquery.extract</code>. We provide a name and a function preforming the export based on our AST using the <code>Outputter</code>. We again register our new extractor to the <code>PullExtractor</code> by simply providing its class name, allowing us to use it in the query language.</p>
</div>
<div class="sect3">
<h4 id="_example_a_dummy_extractor">Example: a dummy extractor</h4>
<div class="paragraph">
<p>Similar to the definition of a new apply-function for a new extractor we simply provide a class in <code>smtquery.extract</code> being based on the following structure:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>class DummyPrinter:
    @staticmethod
    def getName ():
        return "DummyExtract"

    def finalise(self,total):
        pass

    def __call__  (self,smtfile):
        with smtquery.ui.output.makePlainMessager () as mess:
            mess.message (smtfile.getName())


def PullExtractor():
    return [DummyPrinter]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The class primarily consists of a <code>getName</code> function proving a name for our new function, a <code>finalise</code> function which is called right after the extractor was used (e.g. to pass summary data), and has to be callable (<code><em>call</em></code>). Within the call we again receive the current benchmark. The return value is completely up to a users purpose. We might want to export a graph, a table, a picture, or anything else of interest. We do not restrict the output in any sense. Within the above example we simply print the SMT-LIB instance&#8217;s name in our terminal. Last,we again provide a <code>PullExtractor</code> function which immediately allows using the newly defined extractor within a custom query.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_available_predicates_functions_and_extractors">Available Predicates, Functions, and Extractors</h3>
<div class="paragraph">
<p>The tool is currently under heavily development. Stated today we offer the following predicates, functions and extractors which will be extended continuously. We plan to offer a shared platform to exchange custom implementations of the aforementioned tools.</p>
</div>
<div class="sect3">
<h4 id="_predicates">Predicates</h4>
<div class="paragraph">
<p>To be used within the <code>Where</code> part of the query. All predicates can be combined using the common logic connectives, e.g. and, or, and not.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>hasWEQ</code>:  filters to all instances which contain word equations.</p>
</li>
<li>
<p><code>hasLinears</code>:  filters to all instances which contain linear length constraints.</p>
</li>
<li>
<p><code>hasRegex</code>:  filters to all instances which contain regular membership predicates.</p>
</li>
<li>
<p><code>isSimpleRegex</code>:  filters to all instances which are of the simple regular expression fragment (see <em>String theories involving regular membership predicates: From practice to theory and back</em> by Berzish et. al.).</p>
</li>
<li>
<p><code>isSimRegexConcatenation</code>:  filters to all instances which are of the simple regular expression fragment with concatenation (see <em>String theories involving regular membership predicates: From practice to theory and back</em> by Berzish et. al.).</p>
</li>
<li>
<p><code>isUpperBounded</code>:  filters to all instances where the syntax of the formula allows obtaining a length upper bound for each string variable.</p>
</li>
<li>
<p><code>isQuadratic</code>:  filters to all instances where each string variable is occurring at most twice.</p>
</li>
<li>
<p><code>isPatternMatching</code>:  filters to all instances which only contain word equations of the kind \(\mathsf{x} = \alpha\) where \(\mathsf{x}\) is a variable not occurring anywhere else in the present formula and \(\alpha\) is a string (potentially containing variables other than \(\mathsf{x}\)).</p>
</li>
<li>
<p><code>hasAtLeast5Variables</code> : filters to all instances containing a least 5 string variables.</p>
</li>
<li>
<p><code>isSAT(s)</code>: 	filters all instances where \(s \in \{\text{CVC5},\text{Z3Str3},\text{Z3Seq}\}\) declared satisfiable.</p>
</li>
<li>
<p><code>isUNSAT(s)</code>:     filters all instances where \(s \in \{\text{CVC5},\text{Z3Str3},\text{Z3Seq}\}\) declared unsatisfiable.</p>
</li>
<li>
<p><code>hasValidModel(s)</code>:     filters all instances where \(s \in \{\text{CVC5},\text{Z3Str3},\text{Z3Seq}\}\) returned SAT with a valid model.</p>
</li>
<li>
<p><code>isCorrect(s)</code>:     filters all instances where \(s \in \{\text{CVC5},\text{Z3Str3},\text{Z3Seq}\}\) returned SAT with a valid model or UNSAT as the majority of used solvers.</p>
</li>
<li>
<p><code>isFaster(s1,s2)</code>:     filters all instances where \(s1,s2 \in \{\text{CVC5},\text{Z3Str3},\text{Z3Seq}\}\) and \(s1\) determined some result quicker than \(s2\).</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_functions">Functions</h4>
<div class="paragraph">
<p>To be used within the <code>Apply</code> part of the query.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>Restrict2WEQ</code>: removes all other predicates than word equations.</p>
</li>
<li>
<p><code>Restrict2Length</code>: removes all other predicates than linear length constraints.</p>
</li>
<li>
<p><code>Restrict2RegEx</code>: removes all other predicates than regular expression membership queries.</p>
</li>
<li>
<p><code>RenameVariables</code>: renames all variables to a standard format (i.e. <code>str01</code>, <code>int01</code>).</p>
</li>
<li>
<p><code>DisjoinConstraints</code>: splits <code>and</code>-concatenated boolean constraints into separate assertions.</p>
</li>
<li>
<p><code>ReduceNegations</code>: shortens sequences of <code>not</code>, keeping the original polarity.</p>
</li>
<li>
<p><code>EqualsTrue</code>: simplifies constraints comparing boolean expressions to <code>true</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="_extractors">Extractors</h4>
<div class="paragraph">
<p>To be used within the <code>Extract</code> part of the query.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>MatchingPie</code>:  exports result as a pie chart.</p>
</li>
<li>
<p><code>CactusPlot</code>:  export result as a cactus plot.</p>
</li>
<li>
<p><code>SMTPlot</code>:  exports the instances visualized as tree diagram.</p>
</li>
<li>
<p><code>VarDepPlot</code>:  exports the dependency plots of all instances.</p>
</li>
<li>
<p><code>ResultsTable</code>:  prints the summary results in terminal.</p>
</li>
<li>
<p><code>SMTLib</code>:  exports the resulting instances as SMT-LIB files.</p>
</li>
<li>
<p><code>Count</code>:  prints matching instances count and distribution.</p>
</li>
<li>
<p><code>InstanceTable</code>:  prints the matching instances and solver&#8217;s results.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>All Extractors are currently outputting their data into a subfolder <code>output</code>. Data obtained from a previously executed query will be overwritten.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_adding_new_benchmarks_and_solvers_and_reinitialising_the_database">Adding new Benchmarks and Solvers (and reinitialising the database)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We briefly overview adding new benchmarks and solvers to SMTQuery.</p>
</div>
<div class="sect2">
<h3 id="_adding_new_benchmarks">Adding new Benchmarks</h3>
<div class="paragraph">
<p>New benchmarks following the SMT-LIB standard simply need to be placed into the folder <code>data/smtfiles</code>. We require a certain folder structure when adding new benchmarks though: all benchmarks must be placed in a folder corresponding to the benchmarks' set name containing subfolders naming each individual track of the set. Within these subfolders we store our actual SMT-LIB files. E.g. the benchmark set <code>kaluza</code> has multiple tracks&#8201;&#8212;&#8201;we create a parent folder <code>kaluza</code> which contains subfolders <code>BigSAT</code>,<code>BigUNSAT</code>, <code>SmallSAT</code>, and <code>SmallUNSAT</code> corresponding to each track, and furthermore containing the individual instances.</p>
</div>
<div class="paragraph">
<p>Same goes for the newly obtained benchmarks when using the <code>SMTLib</code> extractor. The new files are placed within the output folder. Simply move them to <code>data/smtfiles</code>. Note, stick to the previously explained structure of benchmark sets.</p>
</div>
<div class="paragraph">
<p>Once our new instances are placed in we execute <code>bin/smtquery allocateNew</code> to register the benchmarks within our database. Keep in mind that these instance do not have an attached solver&#8217;s result. The result will be added by the time a query asking for a solver&#8217;s answer is executed automatically or by running <code>bin/smtquery updateResults</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_adding_new_solvers">Adding new Solvers</h3>
<div class="paragraph">
<p>To add a new solver being capable of parsing SMT-LIB we implement a new class in <code>smtquery.solvers</code> as following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>import smtquery.solvers.solver as solver

class Dummy(solver.Solver):
    def __init__(self,binarypath):
        super().__init__(binarypath)
        self._path = binarypath

    def getVersion (self):
        return "0.0.1"

    def getName (self):
        return "DummySolver"

    def preprocessSMTFile  (self, origsmt, newsmt):
        newsmt = origsmt

    def buildCMDList (self,smtfilepath):
        return [self._path,"command","line","arguments",smtfilepath]</code></pre>
</div>
</div>
<div class="paragraph">
<p>The class provides a function <code>getVersion</code> and <code>getName</code> to return it&#8217;s version respectively having the type string. Within the <code>preprocessSMTFile</code> function we are able to apply modifications to a passed on SMT file. For example some solvers require <code>(get-model)</code> in the end of each SMT-LIB instance in order to produce a model. The <code>buildCMDList</code> function allows adding additional parameters to our solver&#8217;s call. <code>self._path</code> corresponds to the path of our executable and <code>smtfilepath</code> links to the actual instance.</p>
</div>
<div class="paragraph">
<p>Next, we modify <code>data/conf.yml</code> register the solver. We simply expand the solver adding</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>solvers:
  ...
  Dummy:
    binary: /usr/bin/dummy</code></pre>
</div>
</div>
<div class="paragraph">
<p>Last, we add our new solver to the <code>createSolver</code> function in <code>smtquery/solvers/<em>init</em>.py</code> as shown.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>def createSolver (name,binarypath):
    if name == "CVC5":
        return smtquery.solvers.cvc5.CVC5 (binarypath)
    elif name == "Z3Str3":
        return smtquery.solvers.z3.Z3 (binarypath,"Str3","z3str3")
    elif name == "Z3Seq":
        return smtquery.solvers.z3.Z3 (binarypath,"Seq","seq")
    elif name == "Dummy":
        return smtquery.solvers.dummy.Dummy (binarypath)
    else:
        raise "Unknown Solver Instance"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Afterwards our solver is ready to be used in queries (e.g. <code>isSAT(Dummy)</code>).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_some_usage_examples">Some Usage Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>We present two examples inspired by the generic examples from our paper. We ran the queries using 114468 different SMT-LIB instances gathered in "ZaligVinder: A Generic Test Framework for String Solvers" by Kulczynski et. al. ranging over 19 different sets. These benchmarks were extracted both from real-world and from artificial scenarios. Some benchmarks based on real-world scenarios are related to, e.g., symbolic execution of string heavy programs (Kaluza, PyEx, LeetCode), software verification (Norn), sanitization (PISA), or to detection of software vulnerabilities caused by improper string manipulation (AppScan, JOACO, Stranger). Some artificially produced benchmarks are based either on theoretical insights (Sloth, Woorpje, Light Trau) or on fuzzing algorithms (BanditFuzz, StringFuzz). The running time were achieved on a server running Ubuntu 18.04.4 LTS with two AMD EPYC 7742 processors having a total of 128 cores and 2TB of memory and Python 3.8.</p>
</div>
<div class="paragraph">
<p>Executing the first query builds up the cached ASTs.</p>
</div>
<div class="sect2">
<h3 id="_generic_example_1">Generic Example 1</h3>
<div class="paragraph">
<p>Given a syntactically restricted subset of string constraints, determine instances belonging to this subset, and their distribution within benchmarks.</p>
</div>
<div class="paragraph">
<p>We can give a concrete case of the problem stated in this generic example. We investigate the distribution of quadratic equations (a well-studied class of word equations, which can be easily solved using the so-called Nielsen transformations) in the benchmarks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each benchmark, determine all instances consisting of quadratic equations only (Execution time: 4.4 minutes (w/o cache), 70 seconds (w/ cache):</p>
<div class="literalblock">
<div class="content">
<pre>Select Name From * Where isQuadratic</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ouput:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>47796 out of 114468 instances:
--------------------------------------------------
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:f8fe93f6fc26b22dbc83eb3a70c2c7ea9d9471652e3f6fd9dad545d3.smt2']
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:d98348897af82d9f460a9dd25d44f01c1c0f7a4cbcf92bf018496499.smt2']
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:70cf7e1a30dec00f3fc7a3585f05eea9b3a4ebc40741bfaa28b11c37.smt2']
['PyEx_All:petercpyexdoccav17zzpymongoloads:de256d8520bc7ec82e56b67948fea8ababd17a407981ca49ef3d2d0a.smt2']
['PyEx_All:petercpyexdoccav17zzpymongoloads:c0a6b265268008b1ae333ba9df317140f224f16135f070e5e0933479.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:abf4e2818d2d2652a51de876c1211528daa6bf91c5246dba80a67b28.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:879a301f0920a166a05fd420094c091868774ec5f8697f112d132add.smt2']
['PyEx_All:petercpyexdoccav17tdrequestsurlauth:12a78106b3b0ab00b17765f83e8b876a8a8b9ac4ffb171a15fb6d4bd.smt2']
['PyEx_All:petercpyexdoccav17tdrequestsurlauth:0c3bb72822d747fde3315a253617212cec256b7e3235cd2f75ca0a5b.smt2']
...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Count how many such instances are in each benchmark, and compute the ratio between the number of quadratic instances and the overall number of instances in each benchmark (e.g. for JOACO-Suite) (Execution time: 0.6 seconds).</p>
<div class="literalblock">
<div class="content">
<pre>Extract Count From joacosuite Where isQuadratic</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ouput:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Total matching instances: 51 of 94 within the selected set (54.25531914893617%).</code></pre>
</div>
</div>
<div class="paragraph">
<p>Motivated by our paper from CAV 2021 (Berzish et. al.: An SMT Solver for Regular Expressions and Linear Arithmetic over String Length), we addressed the following concrete case of Example 1. We want to determine all instances containing regex-membership predicates, and their distribution within benchmarks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>For each benchmark, determine all instances containing regex-membership predicates (Execution time: 70 seconds):</p>
<div class="literalblock">
<div class="content">
<pre>Select Name From * Where hasRegex</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>57257 out of 114468 instances:
--------------------------------------------------
['slothtests:sloth:norn-benchmark-9.smt2']
['slothtests:sloth:simple-cvc-smtlib.smt2']
['slothtests:sloth:escapeSequences-1a.smt2']
['slothtests:sloth:norn-benchmark-9e.smt2']
['slothtests:sloth:epsilon-3.smt2']
['slothtests:sloth:norn-benchmark-9j.smt2']
['slothtests:sloth:cvc_replace_4062.smt2']
...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Count how many such instances are in each benchmark, and compute the ratio between the number of instances containing regex-membership predicates and the overall number of instances in each benchmark (e.g. for JOACO-Suite) (Execution time: 0.6 seconds).</p>
<div class="literalblock">
<div class="content">
<pre>Extract Count From joacosuite Where hasRegex</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Total matching instances: 76 of 94 within the selected set (80.85106382978724%).</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_generic_example_2">Generic Example 2</h3>
<div class="paragraph">
<p>For a given string-solver, understand the properties of instances on which it performs particularly well, and on which it performs badly (also in comparison to other solvers).</p>
</div>
<div class="paragraph">
<p>We can give a concrete case related to the problem stated in this generic example. We would be interested in finding the set C of all the instances on which CVC5 provides a correct answer and Z3str3 either provides a wrong answer or is slower in providing the correct answer and the instances the set Z of all the instances on which Z3str3 provides a correct answer and CVC5 either provides a wrong answer or is slower in providing the correct answer. Then, for each of these sets, detect the number (and distribution) of instances which are non-quadratic and the number (and distribution) of instances containing regex-membership predicates.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Collect, for each instance, the answers given by all solvers included in our tool. The supposedly-correct answer for this instance is the one given by the majority of these solvers in UNSAT cases and indicated by a correct model in case of SAT instances. (Execution time: 17 minutes)</p>
<div class="literalblock">
<div class="content">
<pre>Extract InstanceTable From * Where ((isCorrect(CVC5) and isCorrect(Z3Str3)) and isCorrect(Z3Seq))</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-Result CVC5      Time CVC5  Result Z3Seq      Time Z3Seq  Result Z3Str3      Time Z3Str3" data-lang="Result CVC5      Time CVC5  Result Z3Seq      Time Z3Seq  Result Z3Str3      Time Z3Str3">-------------------------------------------------------------------------------------------------------------------  -------------  -----------  --------------  ------------  ---------------  -------------
PyEx_All:petercpyexdoccav17zzpymongobsonencode:f8fe93f6fc26b22dbc83eb3a70c2c7ea9d9471652e3f6fd9dad545d3.smt2         Satisfied       0.0219098   Satisfied          0.0355985  Satisfied            0.0260986
PyEx_All:petercpyexdoccav17zzpymongobsonencode:d98348897af82d9f460a9dd25d44f01c1c0f7a4cbcf92bf018496499.smt2         Satisfied       0.0178244   Satisfied          0.0349659  Satisfied            0.0304241
PyEx_All:petercpyexdoccav17zzpymongobsonencode:70cf7e1a30dec00f3fc7a3585f05eea9b3a4ebc40741bfaa28b11c37.smt2         Satisfied       0.0115088   Satisfied          0.0290483  Satisfied            0.0278699
PyEx_All:petercpyexdoccav17zzpymongobsonencode:1931f11279d92eaaa4b629dd48a91867ce21bb72eca357460833e9ae.smt2         NotSatisfied    0.0122057   NotSatisfied       0.0477649  NotSatisfied         0.0218629
PyEx_All:petercpyexdoccav17zzpymongoloads:de256d8520bc7ec82e56b67948fea8ababd17a407981ca49ef3d2d0a.smt2              Satisfied       0.0130903   Satisfied          0.0315387  Satisfied            0.0278435
PyEx_All:petercpyexdoccav17zzpymongoloads:c0a6b265268008b1ae333ba9df317140f224f16135f070e5e0933479.smt2              Satisfied       0.0176178   Satisfied          0.0744072  Satisfied            0.0311894
PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:c1e1aae3eff37bf61177fd26ca115400ee4963dd74dbed6d7564f933.smt2    NotSatisfied    0.0429762   NotSatisfied       0.029438   NotSatisfied         0.0626745</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Select for CVC5 all instances where CVC5 gives the right answer and either Z3str3 gives the wrong answer or it gives the right answer slower (Execution Time: 15 minutes).</p>
<div class="literalblock">
<div class="content">
<pre>Select Name From * Where ((isCorrect(CVC5) and (not isCorrect(Z3Str3))) or (isCorrect(Z3Str3) and isFaster(CVC5,Z3Str3)))</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>96971 out of 114468 instances:
--------------------------------------------------
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:f8fe93f6fc26b22dbc83eb3a70c2c7ea9d9471652e3f6fd9dad545d3.smt2']
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:d98348897af82d9f460a9dd25d44f01c1c0f7a4cbcf92bf018496499.smt2']
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:70cf7e1a30dec00f3fc7a3585f05eea9b3a4ebc40741bfaa28b11c37.smt2']
['PyEx_All:petercpyexdoccav17zzpymongobsonencode:1931f11279d92eaaa4b629dd48a91867ce21bb72eca357460833e9ae.smt2']
['PyEx_All:petercpyexdoccav17zzpymongoloads:de256d8520bc7ec82e56b67948fea8ababd17a407981ca49ef3d2d0a.smt2']
['PyEx_All:petercpyexdoccav17zzpymongoloads:c0a6b265268008b1ae333ba9df317140f224f16135f070e5e0933479.smt2']
...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Count how many of the instances computed in step 2 are quadratic and how many contain regex-membership predicates. (Execution time: 15 minutes each)</p>
<div class="literalblock">
<div class="content">
<pre>Extract Count From * Where (((isCorrect(CVC5) and (not isCorrect(Z3Str3))) or (isCorrect(Z3Str3) and isFaster(CVC5,Z3Str3))) and isQuadratic)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Extract Count From * Where (((isCorrect(CVC5) and (not isCorrect(Z3Str3))) or (isCorrect(Z3Str3) and isFaster(CVC5,Z3Str3))) and hasRegex)</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Total matching instances: 44696 of 114468 within the selected set (39.046720480833066%).</code></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Total matching instances: 48250 of 114468 within the selected set (42.15151832826641%).</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Select for Z3str3 all instances where Z3str3 gives the right answer and either CVC5 gives the wrong answer or it gives the right answer slower (Execution time: 16 minutes).</p>
<div class="literalblock">
<div class="content">
<pre>Select Name From * Where ((isCorrect(Z3Str3) and (not isCorrect(CVC5))) or (isCorrect(CVC5) and isFaster(Z3Str3,CVC5)))</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>16325 out of 114468 instances:
--------------------------------------------------
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:03f1fb5477c155feb31e2186df2c40228206c726485cd61c56d2df7a.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:0cfb88e6752121866d7a9a1277b536fd50498ebf430f7de856b4934f.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:11a23f469feb0d987b6beb1cd5472757735f0d1c6110fb47842c8877.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:1af7511226dbc3e447f4c0283755babdd8001bf855d272967dc8f6e7.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:769e7deec41c433bfaaed7fec2e77675925aea46fe3eb60fcd41002f.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:76bbc89ecb64b905ec6695cf918734d7d95e189038848afce3e162ab.smt2']
['PyEx_All:petercpyexdoccav17zzhttplib2requestheaders:1c0bb414ca244d8c2ee162800243df6ac19c13b72080ae3c70b8b0f2.smt2']
...</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Count how many of the instances computed in step 4 are quadratic and how many contain regex-membership predicates (Execution time: 17 minutes each).</p>
<div class="literalblock">
<div class="content">
<pre>Extract Count From * Where (((isCorrect(Z3Str3) and (not isCorrect(CVC5))) or (isCorrect(CVC5) and isFaster(Z3Str3,CVC5))) and isQuadratic)</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Extract Count From * Where (((isCorrect(Z3Str3) and (not isCorrect(CVC5))) or (isCorrect(CVC5) and isFaster(Z3Str3,CVC5))) and hasRegex)</pre>
</div>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>Output:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Total matching instances: 2822 of 114468 within the selected set (2.465317818080162%).</code></pre>
</div>
</div>
<div class="paragraph">
<p>and</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code>Total matching instances: 8037 of 114468 within the selected set (7.021176223922843%).</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2022-08-11 12:57:17 +0200
</div>
</div>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  messageStyle: "none",
  tex2jax: {
    inlineMath: [["\\(", "\\)"]],
    displayMath: [["\\[", "\\]"]],
    ignoreClass: "nostem|nolatexmath"
  },
  asciimath2jax: {
    delimiters: [["\\$", "\\$"]],
    ignoreClass: "nostem|noasciimath"
  },
  TeX: { equationNumbers: { autoNumber: "none" } }
})
MathJax.Hub.Register.StartupHook("AsciiMath Jax Ready", function () {
  MathJax.InputJax.AsciiMath.postfilterHooks.Add(function (data, node) {
    if ((node = data.script.parentNode) && (node = node.parentNode) && node.classList.contains('stemblock')) {
      data.math.root.display = "block"
    }
    return data
  })
})
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>
</body>
</html>